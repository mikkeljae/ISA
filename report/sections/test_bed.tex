%!TEX root = ../main.tex

\section{Test Bed}
A simple setup for testing pendulum systems will be devised.
This will assist in better understanding the control problems facing the authors in creating a double pendulum control system.
During the process of building the setup, it is expected that some knowledge will be gained that will help in the design of the final system.
In order to properly design the test bed it is necessary to first determine what the expected outcome is from the testing.
Clearly, the goal is to rigorously determine the requirements of the final system.
The requirements fall into a few categories:

\begin{itemize}
	\item \textbf{Mechanical:} The difficulty of the control is expected to be closely linked to the rigidity of the platform.
	In the ideal case, the cart will move only along one axis, say the x-axis.
	In the real case however, there is likely to be issues such as wobble along the remaining axes due to lack of rigidity in the drive mechanism.
	The test bed will allow a thorough investigation of the requirements appertaining these issues.
	\item \textbf{Electromechanical:} A number of electromechanical devices are required on the final platform: encoders, motors and switches.
	Using the test bed, experimentation can be done on the required resolution and sampling of encoders, the required speed of the motor in order to fulfil different control scenarios such as full swing-up or maintaining stability and finally, what switches are required, or desired, in the final system.
	\item \textbf{Control:} As previously mentioned, the real world is littered with inaccuracies which cannot reasonably be accounted for in simulations.
	While much of the design of the state space model and control scheme will be designed using a model, it is necessary to repeatedly verify the findings on a real system.
	While the test bed to be designed is unlikely to have the same characteristics as the final system, it will provide the authors with experience in applying the control algorithms to a real system.
	The test bed should be able to, at least to some extent, perform the same manoeuvres as will be the case on the final system.
	This includes maintaining stability of a pendulum in the upright position and performing a full swing-up of the pendulum.
\end{itemize}

Initially, the test bed is comprised of three parts, a drive mechanism, a cart and a pendulum with encoders.
These will be discussed in the subsequent sections.

\subsection{Drive Mechanism} % (fold)
\label{sub:drive_mechanism}
The drive mechanism is the part of the setup responsible for moving the cart.
Generally, what is required is a mechanism capable of creating linear motion.
In order to simplify the control as much as possible it would be desirable to use a low-backlash option such as a ball screw or lead screw setup.
These options are expensive and mechanically complicated to set up and while they may be an option for the final system, this test bed will require something both simpler and cheaper.
Using a drive belt fitted to two wheels, one of which is driven by a small motor, will supply a simple, cost-effective method of creating motion.
The cart can then be attached to the belt which can be accelerated in either direction.
\\~\\
This option, clearly, is not as rigid as using a lead screw, as the cart is mounted on the belt.
Additionally, as the width of the platform increases, the slack in the belt will also increase.
Using a more narrow platform will increase the difficulty of performing the full swing-up, potentially increasing the difficulty of the control system.
An increased amount of slack due to the longer span of the belt will also impose a different set of control difficulties on the project.
This can be alleviated by mounting the cart on a set of rails using linear bearings, this will stabilise the platform and the belt be used only to drive the cart, rather than also supporting the weight of the cart.
\\~\\
A type of motor is necessary for driving the belt.
in order to perform the control, the motor has to be equipped with a set of encoders.
% subsection drive_mechanism (end)

\subsection{Cart} % (fold)
\label{sub:cart}
The cart holding the pendulum 
% subsection cart (end)

\subsection{Pendulum} % (fold)
\label{sub:pendulum}
The design of the pendulum requires that a few considerations are made.
Ideally, each pendulum would be a point-mass mounted using a rigid, mass-less bar.
As the creation of mass-less materials is beyond the scope of this report, an approximation will be made in an effort to simplify the mathematics required to model the system.
This means that the pendulum must be designed in such a way that the majority if the mass of the pendulum is centred around the pivot axis in one end of the pendulum.
It must be possible to determine the position of each link relative to the previous, therefore some type if encoder solution must be mounted at each joint.
Placing the encoder solution at the end of, and around the pivot axis of each pendulum will position the weight in the desired location.
The choice of the encoder solution is discussed further in the next section.
\\~\\
It may be desirable to have the possibility of changing the weight of the pendulum.
This will allow for the study of the effect of varying masses on the controller and the system in general.

\subsection{Encoder} % (fold)
\label{sub:encoder}
As mentioned it is necessary to know the position of each pendulum in order to fully control the system.
This can be accomplished using an encoder.
Generally, there are two types of encoders:
\begin{itemize}
	\item \textbf{Relative:} The position of the joint is known only relative to the starting position.
	In order for this scheme to be usable, some form of calibration is required such that the absolute position can be inferred based on the data given from the encoder.
	Any drift in the system will, over time, invalidate the calibration, meaning that in order to properly control the system, a new calibration is required.
	This can be avoided by including a tick at a certain, known position in the rotation.
	Based on the data given by the encoder it is possible to infer the velocity of a given joint at any time.
	\item \textbf{Absolute:} The position of the joint is known completely, regardless of starting position.
	While still allowing for the calculation of the velocity of a given joint, this encoder type also negates the necessity of a calibration.
\end{itemize}
The absolute encoder does provide benefits that the relative encoder does not.
When attempting to apply any sort of control to any type of plant, knowing the exact state of the output at any given point with known tolerance is very beneficial.
\\~\\
In addition to the function that the encoder provides, it should also  
% subsection encoder (end)
% subsection pendulum (end)